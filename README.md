# A Fine Calculus for Static Delimited Control

We consider a variant of the call-by-value $λμ$-calculus extended with control delimiters, in which $μ$ becomes the static delimited control operator `shift0`. We propose new reduction rules for cases where the captured continuation can be determined statically. We let delimiters carry data (resulting in a form of dynamic binding), which lets us express deep effect handlers. We propose an encoding of return clauses, letting us omit them to simplify syntax. We prove the reductions are semantics-preserving using a novel and much simpler approach that uses commutation instead of confluence. We prove confluence only in a subcalculus and describe the problems we encountered. The proofs are verified in the Abella proof assistant. We argue that the calculus is stronger than previous results in the literature and could form basis for reasoning and optimizations for the aforementioned forms of control.
